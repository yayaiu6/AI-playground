<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI in Education: Future of Learning</title>
    <link rel="icon" type="image/png" href="../favicon.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Marked.js for Markdown -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                    },
                }
            }
        }
    </script>
    
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Custom animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out;
        }
        
        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        /* Spinner */
        .spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.6s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Video container responsive */
        .video-aspect {
            aspect-ratio: 16 / 9;
        }
        
        /* Caption animations */
        .caption-enter {
            animation: slideIn 0.3s ease-out;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* RTL Support */
        [dir="rtl"] {
            font-family: 'Cairo', 'Inter', sans-serif;
        }
        
        /* Focus styles for accessibility */
        *:focus-visible {
            outline: 2px solid #0ea5e9;
            outline-offset: 2px;
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Performance optimization - GPU acceleration */
        .gpu-accelerated {
            transform: translateZ(0);
            will-change: transform;
        }
        
        /* Lazy load images */
        img[loading="lazy"] {
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        img[loading="lazy"].loaded {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-blue-50 text-slate-800 min-h-screen">
    
    <!-- Hero Section -->
    <section class="relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDEzNGg3Ljl2LTYuNUgzNnY2LjV6bTAtMTNsNy45LTYuNUgzNnY2LjV6bS03LjkgMHY2LjVIMzZ2LTYuNXptMCAwSDM2di02LjVoLTcuOXY2LjV6bS03LjkgMEgyOHYtNi41aC03Ljl2Ni41em0wIDEzaDcuOXYtNi41aC03Ljl2Ni41eiIvPjwvZz48L2c+PC9zdmc+')] opacity-20"></div>
        
        <div class="container mx-auto px-4 py-16 md:py-24 relative z-10">
            <div class="max-w-4xl mx-auto text-center animate-fade-in-up">
                <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">
                    Unlock the Future of Learning with AI
                </h1>
                <p class="text-lg md:text-xl text-blue-100 mb-8 max-w-2xl mx-auto">
                    Experience how AI enhances educational content, making learning more accessible and engaging for everyone.
                </p>
                <div class="flex flex-wrap gap-4 justify-center">
                    <a href="#features" class="inline-flex items-center gap-2 px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                        <i class="fas fa-play-circle"></i>
                        Explore Features
                    </a>
                    <a href="#solutions" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-500/20 backdrop-blur-sm text-white border-2 border-white/30 rounded-lg font-semibold hover:bg-blue-500/30 transition-all">
                        Learn More
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Wave separator -->
        <div class="absolute bottom-0 left-0 right-0">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
                <path d="M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z" fill="rgb(248, 250, 252)"/>
            </svg>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12 md:py-20" id="features">
        
        <!-- Real-Time Translation Section -->
        <section class="mb-20">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold mb-4">
                        <i class="fas fa-language"></i>
                        Real-Time Translation
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                        AI That Translates Your Lectures
                    </h2>
                    <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                        Break language barriers with AI-powered real-time translation. Our system automatically transcribes 
                        lectures and translates them into multiple languages instantly.
                    </p>
                </div>

                <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                    <!-- Video Player -->
                    <div class="relative bg-slate-900">
                        <div class="video-aspect">
                            <video id="lectureVideo" controls preload="metadata" class="w-full h-full object-contain">
                                <source src="example_lecture.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                    
                    <!-- Captions Display -->
                    <div class="border-t border-slate-200 bg-gradient-to-r from-slate-50 to-blue-50 p-6">
                        <div id="captionsDisplay" class="min-h-[80px] flex items-center justify-center" role="region" aria-live="polite" aria-label="Video captions">
                            <div class="text-center">
                                <i class="fas fa-comment-dots text-3xl text-slate-300 mb-2"></i>
                                <div id="captionContent" class="text-slate-600 text-lg leading-relaxed">
                                    Captions will appear here...
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Language Selector -->
                    <div class="border-t border-slate-200 p-6 bg-white">
                        <div class="flex flex-col sm:flex-row items-center gap-4">
                            <label for="languageSelect" class="flex items-center gap-2 text-slate-700 font-medium">
                                <i class="fas fa-language text-blue-600"></i>
                                <span>Caption Language:</span>
                            </label>
                            <select id="languageSelect" 
                                    class="flex-1 sm:max-w-xs px-4 py-2.5 bg-white border-2 border-slate-200 rounded-lg text-slate-700 font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all cursor-pointer"
                                    aria-label="Select caption language">
                                <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                                <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                                <option value="cn">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                            </select>
                            <div class="text-sm text-slate-500 hidden sm:block">
                                <i class="fas fa-keyboard"></i> Use Space to play/pause
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lecture Summary Section -->
        <section class="mb-20">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <div class="inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold mb-4">
                        <i class="fas fa-file-alt"></i>
                        Intelligent Summarization
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                        AI That Summarizes Your Lectures
                    </h2>
                    <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                        Generate concise summaries of entire lectures in seconds. Our AI analyzes the transcript and creates 
                        a structured summary that captures all key points.
                    </p>
                </div>

                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="text-center mb-6">
                        <button id="summaryBtn" 
                                class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-purple-800 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                            <i class="fas fa-magic"></i>
                            Generate Lecture Summary
                        </button>
                    </div>
                    
                    <div id="summaryResult" class="hidden mt-8">
                        <div class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-8 border-2 border-purple-100">
                            <div class="flex items-center gap-3 mb-6 pb-4 border-b-2 border-purple-200">
                                <i class="fas fa-sparkles text-2xl text-purple-600"></i>
                                <h3 class="text-xl font-bold text-slate-900">AI-Generated Summary</h3>
                            </div>
                            <div id="summaryContent" class="prose prose-slate max-w-none prose-headings:text-slate-900 prose-p:text-slate-700 prose-strong:text-slate-900"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exam Generator Section -->
        <section class="mb-20">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <div class="inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold mb-4">
                        <i class="fas fa-clipboard-list"></i>
                        Smart Assessment
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                        AI That Generates Your Exams
                    </h2>
                    <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                        Create customized exams with multiple choice, true/false, and open-ended questions. 
                        Simply describe what you need, and our AI will generate a comprehensive exam.
                    </p>
                </div>

                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <div class="mb-6">
                        <label for="examPrompt" class="flex items-center gap-2 text-slate-700 font-semibold mb-3">
                            <i class="fas fa-edit text-green-600"></i>
                            Enter your exam requirements:
                        </label>
                        <textarea 
                            id="examPrompt" 
                            rows="4"
                            class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all resize-none text-slate-700"
                            placeholder="Example: Create a 5-question exam covering the main concepts from this lecture, including 3 multiple choice and 2 true/false questions"></textarea>
                    </div>
                    
                    <div class="text-center mb-6">
                        <button id="generateExamBtn" 
                                class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-semibold text-lg hover:from-green-700 hover:to-emerald-700 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                            <i class="fas fa-cogs"></i>
                            Generate Exam
                        </button>
                    </div>
                    
                    <div id="examResult"></div>
                </div>
            </div>
        </section>

        <!-- Student Monitoring Section -->
        <section class="mb-20">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <div class="inline-flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 rounded-full text-sm font-semibold mb-4">
                        <i class="fas fa-eye"></i>
                        Academic Integrity
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                        AI That Monitors Your Students
                    </h2>
                    <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                        Our AI-powered computer vision system monitors student behavior during exams and online classes, 
                        ensuring academic integrity in both virtual and physical learning environments.
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:shadow-2xl transition-shadow">
                        <div class="relative overflow-hidden">
                            <img src="online_cheating_example.png" 
                                 alt="Online class monitoring system" 
                                 loading="lazy"
                                 class="w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300">
                            <div class="absolute top-4 right-4 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full flex items-center gap-1">
                                <i class="fas fa-video"></i> LIVE
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 flex items-center gap-2">
                                <i class="fas fa-laptop text-blue-600"></i>
                                Online Class Monitoring
                            </h3>
                            <p class="text-slate-600">
                                Real-time detection of distraction and cheating behavior in virtual classrooms
                            </p>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:shadow-2xl transition-shadow">
                        <div class="relative overflow-hidden">
                            <img src="Scool_cheating_example.png" 
                                 alt="In-class cheating detection" 
                                 loading="lazy"
                                 class="w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300">
                            <div class="absolute top-4 right-4 px-3 py-1 bg-green-500 text-white text-xs font-bold rounded-full flex items-center gap-1">
                                <i class="fas fa-shield-alt"></i> SECURE
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 flex items-center gap-2">
                                <i class="fas fa-chalkboard text-purple-600"></i>
                                In-Class Cheating Detection
                            </h3>
                            <p class="text-slate-600">
                                AI-powered surveillance for physical exam halls and classrooms
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Solutions Overview -->
        <section id="solutions" class="mb-20">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                        How AI Transforms Education
                    </h2>
                    <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                        Discover the powerful ways artificial intelligence is revolutionizing the learning experience
                    </p>
                </div>

                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-shadow border-t-4 border-blue-500">
                        <div class="text-5xl mb-4">ğŸ¯</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Smart Summaries</h3>
                        <p class="text-slate-600">
                            AI automatically generates concise summaries of lectures and complex topics, saving time and aiding comprehension for students worldwide.
                        </p>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-shadow border-t-4 border-purple-500">
                        <div class="text-5xl mb-4">ğŸŒ</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Multi-Language Captions</h3>
                        <p class="text-slate-600">
                            Real-time translation and captioning in multiple languages make educational content accessible to a truly global audience.
                        </p>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-shadow border-t-4 border-green-500">
                        <div class="text-5xl mb-4">ğŸš€</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Personalized Learning</h3>
                        <p class="text-slate-600">
                            Adaptive AI systems tailor learning experiences to individual student needs and paces, optimizing engagement and outcomes.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-6xl mx-auto">
                <div class="grid md:grid-cols-3 gap-8 mb-8">
                    <div>
                        <h3 class="text-white font-bold text-lg mb-4">AI Education Platform</h3>
                        <p class="text-sm text-slate-400">
                            Transforming education through artificial intelligence and innovative learning technologies.
                        </p>
                    </div>
                    
                    <div>
                        <h3 class="text-white font-bold text-lg mb-4">Quick Links</h3>
                        <ul class="space-y-2 text-sm">
                            <li><a href="https://github.com/yayaiu6" class="hover:text-blue-400 transition-colors">About Us</a></li>
                            <li><a href="#features" class="hover:text-blue-400 transition-colors">Features</a></li>
                            <li><a href="#solutions" class="hover:text-blue-400 transition-colors">Solutions</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-white font-bold text-lg mb-4">Connect With Us</h3>
                        <div class="flex gap-4">
                            <a href="mailto:yahyamahroof35@gmail.com" 
                               class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors"
                               title="Email">
                                <i class="fas fa-envelope"></i>
                            </a>
                            <a href="https://wa.me/+201001866276" 
                               class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-green-600 transition-colors"
                               title="WhatsApp">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/yahya-mahrouf" 
                               class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors"
                               title="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="https://www.facebook.com/yahya.m.marouf.2025" 
                               class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors"
                               title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://x.com/YahyaMahro" 
                               class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-slate-700 transition-colors"
                               title="X">
                                <i class="fab fa-x-twitter"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-slate-800 pt-8 text-center text-sm text-slate-500">
                    <p>Â© 2025 Yahya Mahrouf. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // ============================================
        // VIDEO AND CAPTIONS SETUP
        // ============================================
        const video = document.getElementById('lectureVideo');
        const languageSelect = document.getElementById('languageSelect');
        const captionsDisplay = document.getElementById('captionsDisplay');
        const captionContent = document.getElementById('captionContent');

        let captions = {};
        let currentLanguage = 'en';
        let lastCaptionText = '';
        let updateTimeout = null;

        // Mock captions data
        const mockCaptions = {
            en: [
                { start: 0, duration: 5, text: "Welcome to today's lecture on Measurement in Physics." },
                { start: 5, duration: 5, text: "We'll explore various tools, units, and applications." },
                { start: 10, duration: 5, text: "Understanding measurement is fundamental to all scientific work." }
            ],
            ar: [
                { start: 0, duration: 5, text: "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„ÙŠÙˆÙ… Ø­ÙˆÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³ ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡." },
                { start: 5, duration: 5, text: "Ø³Ù†Ø³ØªÙƒØ´Ù Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„ÙˆØ­Ø¯Ø§Øª ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©." },
                { start: 10, duration: 5, text: "ÙÙ‡Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ Ø£Ø³Ø§Ø³ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©." }
            ],
            fr: [
                { start: 0, duration: 5, text: "Bienvenue au cours d'aujourd'hui sur la mesure en physique." },
                { start: 5, duration: 5, text: "Nous explorerons divers outils, unitÃ©s et applications." },
                { start: 10, duration: 5, text: "Comprendre la mesure est fondamental pour tous les travaux scientifiques." }
            ],
            cn: [
                { start: 0, duration: 5, text: "æ¬¢è¿æ¥åˆ°ä»Šå¤©å…³äºç‰©ç†æµ‹é‡çš„è®²åº§ã€‚" },
                { start: 5, duration: 5, text: "æˆ‘ä»¬å°†æ¢ç´¢å„ç§å·¥å…·ã€å•ä½å’Œåº”ç”¨ã€‚" },
                { start: 10, duration: 5, text: "ç†è§£æµ‹é‡æ˜¯æ‰€æœ‰ç§‘å­¦å·¥ä½œçš„åŸºç¡€ã€‚" }
            ]
        };

        // Video optimization
        video.load();
        video.addEventListener('loadedmetadata', function() {
            if (video.duration) {
                video.currentTime = 0.1;
                video.pause();
                video.currentTime = 0;
            }
        });

        // Load captions
        async function fetchCaptions(lang) {
            try {
                const response = await fetch(`transcript_${lang}.json`);
                if (!response.ok) return mockCaptions[lang] || [];
                return await response.json();
            } catch (error) {
                return mockCaptions[lang] || [];
            }
        }

        async function loadAllCaptions() {
            const languages = ['en', 'ar', 'fr', 'cn'];
            await Promise.all(languages.map(async lang => {
                captions[lang] = await fetchCaptions(lang);
            }));
            displayCaption();
        }

        function displayCaption() {
            const currentTime = video.currentTime;
            const activeCaptions = captions[currentLanguage] || [];
            
            const relevantCaptions = activeCaptions.filter(caption => {
                const captionEnd = caption.start + caption.duration;
                return currentTime >= caption.start && currentTime < captionEnd;
            });

            if (relevantCaptions.length > 0) {
                const newCaptionText = relevantCaptions.map(c => c.text).join(' | ');
                
                if (newCaptionText !== lastCaptionText) {
                    lastCaptionText = newCaptionText;
                    captionContent.textContent = newCaptionText;
                    captionContent.classList.add('caption-enter');
                    setTimeout(() => captionContent.classList.remove('caption-enter'), 300);
                }
            } else {
                if (lastCaptionText !== '') {
                    lastCaptionText = '';
                    captionContent.innerHTML = '<span class="text-slate-400">Captions will appear here...</span>';
                }
            }
        }

        // Throttled video time update
        let lastUpdate = 0;
        video.addEventListener('timeupdate', function() {
            const now = Date.now();
            if (now - lastUpdate >= 100) {
                lastUpdate = now;
                displayCaption();
            }
        });

        video.addEventListener('seeked', displayCaption);

        // Language selector
        languageSelect.addEventListener('change', (e) => {
            currentLanguage = e.target.value;
            const isRTL = currentLanguage === 'ar';
            
            captionsDisplay.setAttribute('dir', isRTL ? 'rtl' : 'ltr');
            captionContent.classList.toggle('font-arabic', isRTL);
            lastCaptionText = '';
            displayCaption();
        });

        loadAllCaptions();

        // ============================================
        // LECTURE SUMMARY
        // ============================================
        const summaryBtn = document.getElementById('summaryBtn');
        const summaryResult = document.getElementById('summaryResult');
        const summaryContent = document.getElementById('summaryContent');

        summaryBtn.addEventListener('click', async () => {
            summaryBtn.disabled = true;
            summaryBtn.innerHTML = '<span class="spinner"></span> Generating Summary...';
            
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            try {
                const response = await fetch('Lecture summary.txt');
                
                if (!response.ok) {
                    throw new Error('Summary file not found');
                }
                
                const summaryText = await response.text();
                const summaryHTML = marked.parse(summaryText);
                
                summaryContent.innerHTML = summaryHTML;
                summaryResult.classList.remove('hidden');
                summaryResult.classList.add('animate-fade-in-up');
                
                if (/[\u0600-\u06FF]/.test(summaryHTML)) {
                    summaryContent.setAttribute('dir', 'rtl');
                }
                
                summaryBtn.innerHTML = '<i class="fas fa-check-circle"></i> Summary Generated Successfully';
                summaryBtn.classList.remove('from-purple-600', 'to-purple-700');
                summaryBtn.classList.add('from-green-600', 'to-green-700');
                
                setTimeout(() => {
                    summaryResult.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);

            } catch (error) {
                console.error('Error loading summary:', error);
                summaryContent.innerHTML = '<div class="bg-red-50 border-2 border-red-200 rounded-lg p-4 text-red-700"><i class="fas fa-exclamation-triangle mr-2"></i>Error loading summary. Please ensure the file exists.</div>';
                summaryResult.classList.remove('hidden');
                
                summaryBtn.disabled = false;
                summaryBtn.innerHTML = '<i class="fas fa-redo"></i> Try Again';
                
                setTimeout(() => {
                    summaryBtn.innerHTML = '<i class="fas fa-magic"></i> Generate Lecture Summary';
                }, 3000);
            }
        });

        // ============================================
        // EXAM GENERATOR
        // ============================================
        const examPrompt = document.getElementById('examPrompt');
        const generateExamBtn = document.getElementById('generateExamBtn');
        const examResult = document.getElementById('examResult');

        generateExamBtn.addEventListener('click', async () => {
            const prompt = examPrompt.value.trim();
            
            if (!prompt) {
                examPrompt.classList.add('border-red-500', 'ring-2', 'ring-red-200');
                setTimeout(() => {
                    examPrompt.classList.remove('border-red-500', 'ring-2', 'ring-red-200');
                }, 2000);
                return;
            }

            generateExamBtn.disabled = true;
            generateExamBtn.innerHTML = '<span class="spinner"></span> Generating Exam...';

            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const examData = {
                    exam: {
                        en: { name: "Physics Measurement Assessment" },
                        ar: { name: "ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù‚ÙŠØ§Ø³ ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡" }
                    },
                    questions: [
                        {
                            type: "multiple_choice",
                            en: { question: "What is the most precise measurement tool mentioned in the lecture?" },
                            ar: { question: "Ù…Ø§ Ù‡ÙŠ Ø£Ø¯Ø§Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£ÙƒØ«Ø± Ø¯Ù‚Ø© Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©ØŸ" },
                            correct_answer: 2
                        },
                        {
                            type: "multiple_choice",
                            en: { question: "What does SI stand for in measurement units?" },
                            ar: { question: "Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ SI ÙÙŠ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ØŸ" },
                            correct_answer: 1
                        },
                        {
                            type: "true_false",
                            en: { question: "A vernier caliper is more precise than a regular ruler." },
                            ar: { question: "Ø§Ù„Ù‚Ø¯Ù…Ø© Ø°Ø§Øª Ø§Ù„ÙˆØ±Ù†ÙŠØ© Ø£ÙƒØ«Ø± Ø¯Ù‚Ø© Ù…Ù† Ø§Ù„Ù…Ø³Ø·Ø±Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©." },
                            correct_answer: 0
                        },
                        {
                            type: "multiple_choice",
                            en: { question: "Which field does NOT commonly use precise measurements?" },
                            ar: { question: "Ø£ÙŠ Ù…Ø¬Ø§Ù„ Ù„Ø§ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø´ÙƒÙ„ Ø´Ø§Ø¦Ø¹ØŸ" },
                            correct_answer: 3
                        },
                        {
                            type: "text",
                            en: { question: "Explain why taking multiple measurements improves reliability in scientific experiments." },
                            ar: { question: "Ø§Ø´Ø±Ø­ Ù„Ù…Ø§Ø°Ø§ ÙŠØ¤Ø¯ÙŠ Ø£Ø®Ø° Ù‚ÙŠØ§Ø³Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© ÙÙŠ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©." },
                            correct_answer: 0
                        }
                    ],
                    answers: {
                        "0": [
                            { en: { answer: "Ruler" }, ar: { answer: "Ø§Ù„Ù…Ø³Ø·Ø±Ø©" } },
                            { en: { answer: "Vernier Caliper" }, ar: { answer: "Ø§Ù„Ù‚Ø¯Ù…Ø© Ø°Ø§Øª Ø§Ù„ÙˆØ±Ù†ÙŠØ©" } },
                            { en: { answer: "Micrometer" }, ar: { answer: "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙ…ØªØ±" } },
                            { en: { answer: "Balance Scale" }, ar: { answer: "Ø§Ù„Ù…ÙŠØ²Ø§Ù†" } }
                        ],
                        "1": [
                            { en: { answer: "Standard Instruments" }, ar: { answer: "Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©" } },
                            { en: { answer: "International System" }, ar: { answer: "Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„ÙŠ" } },
                            { en: { answer: "Scientific Index" }, ar: { answer: "Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ" } },
                            { en: { answer: "Simple Integration" }, ar: { answer: "Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨Ø³ÙŠØ·" } }
                        ],
                        "2": [
                            { en: { answer: "True" }, ar: { answer: "ØµØ­" } },
                            { en: { answer: "False" }, ar: { answer: "Ø®Ø·Ø£" } }
                        ],
                        "3": [
                            { en: { answer: "Engineering" }, ar: { answer: "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©" } },
                            { en: { answer: "Medicine" }, ar: { answer: "Ø§Ù„Ø·Ø¨" } },
                            { en: { answer: "Construction" }, ar: { answer: "Ø§Ù„Ø¨Ù†Ø§Ø¡" } },
                            { en: { answer: "Creative Writing" }, ar: { answer: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©" } }
                        ],
                        "4": [
                            { en: { answer: "Open-ended response" }, ar: { answer: "Ø¥Ø¬Ø§Ø¨Ø© Ù…ÙØªÙˆØ­Ø©" } }
                        ]
                    }
                };

                renderExam(examData);

            } catch (error) {
                console.error('Error generating exam:', error);
                examResult.innerHTML = '<div class="bg-red-50 border-2 border-red-200 rounded-lg p-6 text-red-700 text-center"><i class="fas fa-exclamation-triangle text-2xl mb-2"></i><p>Failed to generate exam. Please try again.</p></div>';
            } finally {
                generateExamBtn.disabled = false;
                generateExamBtn.innerHTML = '<i class="fas fa-cogs"></i> Generate Exam';
            }
        });

        function renderExam(examData) {
            const lang = currentLanguage === 'ar' ? 'ar' : 'en';
            const examTitle = examData.exam[lang].name;
            
            let examHTML = `
                <div class="mt-8 bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-8 border-2 border-green-100 animate-fade-in-up">
                    <div class="flex items-center justify-between mb-8 pb-6 border-b-2 border-green-200">
                        <div class="flex items-center gap-3">
                            <i class="fas fa-file-alt text-3xl text-green-600"></i>
                            <h3 class="text-2xl font-bold text-slate-900">${examTitle}</h3>
                        </div>
                        <div class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold">
                            ${examData.questions.length} Questions
                        </div>
                    </div>
                    <div class="space-y-6">
            `;
            
            examData.questions.forEach((question, qIndex) => {
                const questionText = question[lang].question;
                const questionType = question.type.replace('_', ' ');
                
                let typeColor = 'blue';
                let typeIcon = 'fa-question-circle';
                
                if (question.type === 'multiple_choice') {
                    typeColor = 'blue';
                    typeIcon = 'fa-list-ul';
                } else if (question.type === 'true_false') {
                    typeColor = 'purple';
                    typeIcon = 'fa-toggle-on';
                } else if (question.type === 'text') {
                    typeColor = 'green';
                    typeIcon = 'fa-pen';
                }
                
                examHTML += `
                    <div class="bg-white rounded-xl p-6 shadow-md border-l-4 border-${typeColor}-500">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="px-3 py-1 bg-${typeColor}-100 text-${typeColor}-700 text-xs font-bold rounded-full uppercase">
                                        <i class="fas ${typeIcon} mr-1"></i>${questionType}
                                    </span>
                                    <span class="text-slate-500 font-semibold">Question ${qIndex + 1}</span>
                                </div>
                                <p class="text-lg font-semibold text-slate-800">${questionText}</p>
                            </div>
                        </div>
                `;
                
                if (question.type === 'text') {
                    examHTML += `
                        <textarea 
                            class="w-full mt-4 px-4 py-3 border-2 border-slate-200 rounded-lg focus:border-${typeColor}-500 focus:ring-2 focus:ring-${typeColor}-200 transition-all resize-none" 
                            rows="4"
                            placeholder="Type your answer here..."></textarea>
                    `;
                } else {
                    examHTML += '<div class="space-y-2 mt-4">';
                    const answers = examData.answers[qIndex.toString()];
                    answers.forEach((answer, aIndex) => {
                        const answerText = answer[lang].answer;
                        const isCorrect = question.correct_answer === aIndex;
                        const letter = String.fromCharCode(65 + aIndex);
                        
                        examHTML += `
                            <div class="answer-option group cursor-pointer p-4 border-2 border-slate-200 rounded-lg hover:border-${typeColor}-500 hover:bg-${typeColor}-50 transition-all" 
                                 data-correct="${isCorrect}"
                                 data-question="${qIndex}"
                                 data-answer="${aIndex}">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full border-2 border-slate-300 group-hover:border-${typeColor}-500 flex items-center justify-center font-bold text-slate-600 group-hover:text-${typeColor}-600 transition-colors">
                                        ${letter}
                                    </div>
                                    <span class="text-slate-700 font-medium">${answerText}</span>
                                </div>
                            </div>
                        `;
                    });
                    examHTML += '</div>';
                }
                
                examHTML += '</div>';
            });
            
            examHTML += '</div></div>';
            
            examResult.innerHTML = examHTML;
            
            setTimeout(() => {
                examResult.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
            
            // Add answer selection handlers
            const answerOptions = examResult.querySelectorAll('.answer-option');
            answerOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const questionId = this.dataset.question;
                    const siblings = examResult.querySelectorAll(`.answer-option[data-question="${questionId}"]`);
                    
                    siblings.forEach(sib => {
                        sib.classList.remove('border-blue-500', 'bg-blue-50', 'border-purple-500', 'bg-purple-50');
                        sib.classList.add('border-slate-200');
                    });
                    
                    this.classList.remove('border-slate-200');
                    this.classList.add('border-blue-500', 'bg-blue-50');
                });
            });
        }

        // ============================================
        // KEYBOARD SHORTCUTS
        // ============================================
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space' && e.target.tagName !== 'TEXTAREA' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                video.paused ? video.play() : video.pause();
            }
            
            if (e.code === 'ArrowLeft') {
                e.preventDefault();
                video.currentTime = Math.max(0, video.currentTime - 5);
            }
            if (e.code === 'ArrowRight') {
                e.preventDefault();
                video.currentTime = Math.min(video.duration, video.currentTime + 5);
            }
        });

        // ============================================
        // LAZY LOAD IMAGES
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img[loading="lazy"]');
            
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.classList.add('loaded');
                        observer.unobserve(img);
                    }
                });
            });

            images.forEach(img => imageObserver.observe(img));
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        console.log('âœ… AI Education Platform initialized');
        console.log('âŒ¨ï¸ Keyboard shortcuts: Space (play/pause), â† â†’ (seek 5s)');
    </script>
</body>
</html>
